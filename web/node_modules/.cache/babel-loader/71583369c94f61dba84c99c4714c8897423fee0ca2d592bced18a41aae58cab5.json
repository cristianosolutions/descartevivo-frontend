{"ast":null,"code":"import _objectSpread from\"C:/Users/CRISTIANO MAGNO/Desktop/descartevivo/frontend/web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from'react';import api from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PointsPage(){const[points,setPoints]=useState([]);const[form,setForm]=useState({name:'',address:'',city:'',state:'',neighborhood:''});const loadPoints=()=>{api.get('/api/points').then(res=>setPoints(res.data)).catch(err=>{console.error('Erro ao carregar pontos',err);alert('Erro ao carregar pontos. Veja o console.');});};useEffect(()=>{loadPoints();},[]);const handleChange=e=>{setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[e.target.name]:e.target.value}));};const handleSubmit=e=>{e.preventDefault();api.post('/api/points',form).then(()=>{alert('Ponto cadastrado com sucesso!');setForm({name:'',address:'',city:'',state:'',neighborhood:''});loadPoints();}).catch(err=>{console.error('Erro ao cadastrar ponto',err);alert('Erro ao cadastrar ponto. Veja o console.');});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Pontos de Coleta\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Cadastrar novo ponto\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Nome\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"name\",value:form.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-5\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Cidade\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"city\",value:form.city,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"UF\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"state\",value:form.state,onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{state:e.target.value.toUpperCase().slice(0,2)})),maxLength:2,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Endere\\xE7o\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"address\",value:form.address,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Bairro\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"neighborhood\",value:form.neighborhood,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Salvar ponto\"})})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mb-3\",onClick:()=>window.open(\"http://localhost:3001/api/reports/points\"),children:\"Exportar PDF\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3\",children:\"Pontos cadastrados\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[points.map(p=>/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-4 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:p.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:p.address}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[p.city,p.neighborhood?\" - \".concat(p.neighborhood):'']})})]})})},p.id)),points.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum ponto cadastrado ainda.\"})]})]});}export default PointsPage;","map":{"version":3,"names":["useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","PointsPage","points","setPoints","form","setForm","name","address","city","state","neighborhood","loadPoints","get","then","res","data","catch","err","console","error","alert","handleChange","e","prev","_objectSpread","target","value","handleSubmit","preventDefault","post","children","className","onSubmit","onChange","required","toUpperCase","slice","maxLength","type","onClick","window","open","map","p","concat","id","length"],"sources":["C:/Users/CRISTIANO MAGNO/Desktop/descartevivo/frontend/web/src/pages/PointsPage.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport api from '../api';\r\n\r\nfunction PointsPage() {\r\n  const [points, setPoints] = useState([]);\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    address: '',\r\n    city: '',\r\n    state: '',\r\n    neighborhood: ''\r\n  });\r\n\r\n  const loadPoints = () => {\r\n    api.get('/api/points')\r\n      .then(res => setPoints(res.data))\r\n      .catch(err => {\r\n        console.error('Erro ao carregar pontos', err);\r\n        alert('Erro ao carregar pontos. Veja o console.');\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadPoints();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setForm(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    api.post('/api/points', form)\r\n      .then(() => {\r\n        alert('Ponto cadastrado com sucesso!');\r\n        setForm({ name: '', address: '', city: '', state: '', neighborhood: '' });\r\n        loadPoints();\r\n      })\r\n      .catch(err => {\r\n        console.error('Erro ao cadastrar ponto', err);\r\n        alert('Erro ao cadastrar ponto. Veja o console.');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"mb-3\">Pontos de Coleta</h2>\r\n\r\n      <div className=\"card mb-4\">\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title\">Cadastrar novo ponto</h5>\r\n          <form onSubmit={handleSubmit} className=\"row g-3\">\r\n            <div className=\"col-12 col-md-6\">\r\n              <label className=\"form-label\">Nome</label>\r\n              <input\r\n                className=\"form-control\"\r\n                name=\"name\"\r\n                value={form.name}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-5\">\r\n              <label className=\"form-label\">Cidade</label>\r\n              <input\r\n                className=\"form-control\"\r\n                name=\"city\"\r\n                value={form.city}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n            < div className=\"col-12 col-md-1\">\r\n              <label className=\"form-label\">UF</label>\r\n              <input\r\n                className=\"form-control\"\r\n                name=\"state\"\r\n                value={form.state}\r\n                onChange={(e) => setForm(prev => ({ ...prev, state: e.target.value.toUpperCase().slice(0, 2) }))}\r\n                maxLength={2}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <label className=\"form-label\">Endere√ßo</label>\r\n              <input\r\n                className=\"form-control\"\r\n                name=\"address\"\r\n                value={form.address}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-6\">\r\n              <label className=\"form-label\">Bairro</label>\r\n              <input\r\n                className=\"form-control\"\r\n                name=\"neighborhood\"\r\n                value={form.neighborhood}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <button type=\"submit\" className=\"btn btn-success\">\r\n                Salvar ponto\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      \r\n      <button className=\"btn btn-primary mb-3\"\r\n        onClick={() => window.open(\"http://localhost:3001/api/reports/points\")}\r\n      >\r\n        Exportar PDF\r\n      </button>\r\n\r\n      <h5 className=\"mb-3\">Pontos cadastrados</h5>\r\n      <div className=\"row\">\r\n        {points.map((p) => (\r\n          <div key={p.id} className=\"col-12 col-md-6 col-lg-4 mb-3\">\r\n            <div className=\"card h-100\">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{p.name}</h5>\r\n                <p className=\"card-text\">{p.address}</p>\r\n                <p className=\"card-text\">\r\n                  <small className=\"text-muted\">\r\n                    {p.city}{p.neighborhood ? ` - ${p.neighborhood}` : ''}\r\n                  </small>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {points.length === 0 && (\r\n          <p>Nenhum ponto cadastrado ainda.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PointsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}